<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.pd.mapper.PdProductStockTotalMapper">

    <sql id="pdProductStockTotalColumns">
		a.id,
		a.product_id,
		a.stock_num,
		a.storeroom_id,
		a.limit_up,
		a.limit_down,
		a.expire,
		a.is_long,
		a.supplier_id,
		a.create_by,
		a.create_date,
		a.update_by,
		a.update_date,
		a.remarks,
		a.del_flag
	</sql>

    <sql id="pdProductStockTotalJoins">
    </sql>


    <update id="updateProductStock">
        UPDATE pd_product_stock_total SET
        <if test="limitUp!=null and limitUp!='' ">
            limit_up = #{limitUp}
        </if>
        <if test="limitDown!=null and limitDown!='' ">
            limit_down = #{limitDown}
        </if>
        <if test="expire!=null and expire!='' ">
            expire = #{expire}
        </if>
        <if test="isLong!=null and isLong!='' ">
            is_long = #{isLong}
        </if>
        WHERE product_id = #{productId}
        <if test="storeroomId != null and storeroomId != ''">
            AND storeroom_id = #{storeroomId}
        </if>
    </update>
</mapper>